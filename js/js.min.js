(function(){var m=document.querySelector(".basket-popup");var e=document.querySelector(".basket-close");var a=document.querySelectorAll(".catalog-item-buy"),i,b;for(i=0;i<a.length;i++){b=a[i];b.addEventListener("click",k)}function k(s){m.classList.add("modal-basket-show");s.preventDefault()}e.addEventListener("click",function(s){s.preventDefault();m.classList.remove("modal-basket-show")});window.addEventListener("keydown",function(s){if(s.keyCode===27){if(m.classList.contains("modal-basket-show")){s.preventDefault();m.classList.remove("modal-basket-show")}}});var r=document.querySelector(".popup-maps");var f=document.querySelector(".index-map");var o=f.querySelector(".map-close");if(r){r.addEventListener("click",function(s){s.preventDefault();f.classList.add("modal-map-show")});o.addEventListener("click",function(s){s.preventDefault();f.classList.remove("modal-map-show")});window.addEventListener("keydown",function(s){if(s.keyCode===27){if(f.classList.contains("modal-map-show")){s.preventDefault();f.classList.remove("modal-map-show")}}})}var p=document.querySelector(".button-right");var c=document.querySelector(".form-feedback");var d=document.querySelector(".feedback-close");var j=document.querySelector(".client-name");var g=document.querySelector(".form-client");var l=document.querySelector(".client-email");var n=true;var q="";if(p){try{q=localStorage.getItem("name-author")}catch(h){n=false}p.addEventListener("click",function(s){s.preventDefault();c.classList.add("modal-show");if(q){j.value=q;l.focus()}else{j.focus()}});d.addEventListener("click",function(s){s.preventDefault();c.classList.remove("modal-show");c.classList.remove("modal-error")});g.addEventListener("submit",function(s){if(!j.value||!l.value){s.preventDefault();c.classList.remove("modal-error");c.offsetWidth=c.offsetWidth;c.classList.add("modal-error")}else{localStorage.setItem("name-author",j.value)}});window.addEventListener("keydown",function(s){if(s.keyCode===27){if(c.classList.contains("modal-show")){s.preventDefault();c.classList.remove("modal-show");c.classList.remove("modal-error")}}})}})();
